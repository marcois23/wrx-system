<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Step 4 Test</title>
  <style>
    .contractors { display: flex; gap: 20px; justify-content: center; margin: 30px; }
    .contractor {
      padding: 20px; background: #f1f5f9;
      border-radius: 10px; cursor: pointer;
      border: 2px solid transparent;
      text-align: center;
      transition: 0.3s;
    }
    .contractor:hover { background: #e0f2fe; }
    .contractor.selected {
      border-color: #2563eb;
      background: #dbeafe;
      transform: scale(1.05);
    }
    button {
      margin-top: 20px; padding: 10px 20px;
      font-size: 16px; background: #3b82f6;
      border: none; color: white;
      border-radius: 8px; cursor: pointer;
    }
    button:hover { background: #2563eb; }
  </style>
</head>
<body>
  <h2>Select Contractor</h2>
  <div class="contractors"></div>
  <button id="generateReportBtn">Generate Report</button>

  <script>
    console.log("Script running!");
    const data = {
      A: { name: "A", icon: "🏭" },
      B: { name: "B", icon: "♻️" },
      C: { name: "C", icon: "🧪" }
    };

    document.addEventListener("DOMContentLoaded", () => {
      const container = document.querySelector(".contractors");
      let selected = null;

      Object.values(data).forEach(c => {
        const d = document.createElement("div");
        d.className = "contractor";
        d.dataset.name = c.name;
        d.innerHTML = `<div style="font-size:32px">${c.icon}</div><h3>${c.name}</h3>`;
        d.addEventListener("click", () => {
          document.querySelectorAll(".contractor").forEach(el => el.classList.remove("selected"));
          d.classList.add("selected");
          selected = c.name;
          console.log("Selected:", selected);
        });
        container.appendChild(d);
      });

      document.getElementById("generateReportBtn").addEventListener("click", () => {
        if (!selected) alert("Select a contractor first!");
        else alert("Proceeding with: " + selected);
      });
    });
  </script>
</body>
</html>
